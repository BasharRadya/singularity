<!--

    A template for near-instantaneous deployment of websites
    Copyright (C) 2019 Joel Savitz and Chris Odom

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.

-->

<script>
(function(b, o, i, l, e, r) {
b.GoogleAnalyticsObject = l;
b[l] || (b[l] =
    function() {
	(b[l].q = b[l].q || []).push(arguments)
    });
b[l].l = +new Date;
e = o.createElement(i);
r = o.getElementsByTagName(i)[0];
e.src = 'https://www.google-analytics.com/analytics.js';
r.parentNode.insertBefore(e, r)
}(window, document, 'script', 'ga'));
ga('create', 'UA-136417829-2', 'auto');
ga('send', 'pageview');
</script>

<link rel="stylesheet" type="text/css" href="style.css" />

<div style="display:inline-flex;">
<img src="kdlp_logo.png" style="width:8em;height:8em;padding-right:5px;" alt="[KDLP] logo" />
<h1>Kernel Development Learning Pipeline</h1>
</div>

<hr>
<p><a href="index.html">Home</a>
| <a href="https://github.com/orgs/underground-software">GitHub</a>
| <a href="https://underground.software">Underground</a>
| <a href="info.html">Info</a>
| <a href="who.html">Who</a>
| <a href="course.html">Course</a>
</p>
<hr>
<h3 id="a4---scavenger-hunt">A4 - Scavenger Hunt ü§™</h3>
<p>We will assign you a syscall and give you our specially designed program.</p>
<ol type="1">
<li>strace our program</li>
</ol>
<ul>
<li>Locate the lines corresponding to call(s) to your syscall in the output and put them into assignment.md</li>
</ul>
<ol start="2" type="1">
<li>Answer question 0 in assignment.md</li>
</ol>
<ul>
<li>Suggested: make use of the system‚Äôs manual pages</li>
</ul>
<ol start="3" type="1">
<li>Find the syscall definition within the kernel source</li>
</ol>
<ul>
<li><p>Put the location into assignment.md</p></li>
<li><p>Suggested: make use of <a href="https://elixir.bootlin.com/">elixir</a> or <a href="http://cscope.sourceforge.net/">cscope</a></p></li>
</ul>
<ol start="4" type="1">
<li>Answer question 1 in the assignment.md file</li>
</ol>
<ul>
<li>Who last modified your syscall‚Äôs code? What were they trying to do</li>
</ul>
<ol start="5" type="1">
<li>Write a bpftrace snippet to insert a probe that will print the syscall args and kernel stack in real time as the syscall is invoked</li>
</ol>
<ul>
<li><p>Ensure that the bpf probe is only triggered when our specific command is run</p></li>
<li><p>Suggested: <a href="https://github.com/iovisor/bpftrace/blob/master/docs/reference_guide.md#5-str-strings">bpftrace/reference_guide.md at master</a></p></li>
<li><p>Hint: The first line of an executable bpftrace file must be ‚Äú#!/usr/bin/env bpftrace‚Äù</p></li>
<li><p>Hint: A script file must be marked as executable to be run</p></li>
</ul>
<ol start="6" type="1">
<li>Re-run the program with the bpf probe inserted via your bpftrace code</li>
</ol>
<ul>
<li>Save the results into assignment.md</li>
</ul>
<ol start="7" type="1">
<li>Document your process in the cover letter as always</li>
</ol>
<p><br></br></p>
<p>Tools of interest</p>
<ul>
<li><p>strace</p></li>
<li><p>man</p></li>
<li><p>cscope</p></li>
<li><p>git-blame</p></li>
<li><p>grep (-rnw)</p></li>
<li><p>bpftrace</p></li>
</ul>
<p><br></br></p>
<p>What to submit (the patches should be numbered in the order they are listed):</p>
<ul>
<li><p>A cover letter following the assignment submission guidelines (as always)</p></li>
<li><p>A patch that includes your changes to assignment.md</p></li>
<li><p>A patch that includes the new entries in log.txt from all the times you ran the program</p></li>
<li><p>A patch that includes two full logs from strace from running the program. Once as your regular user and once as running as root using sudo. Make sure you label which is which</p></li>
<li><p>A patch that adds your .bp bpftrace program</p></li>
</ul>
<p><a href="submission_guidelines.html">Submission Guidelines</a></p>
